(this["webpackJsonpchuck-norris-jokes"]=this["webpackJsonpchuck-norris-jokes"]||[]).push([[0],{29:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACuSURBVHgBjZC9DcIwEIXfxaaFjMAIWYERaBCpYAVSIFExAZhMQIUi0bACI7ABHoOCcNxJRnIsFzzJOvnu07sfQkaHC6+pwD58SzBAruNpCm5q8hrdlSvucVOYjh0Lj3sMfhitsfAKvQ3mVqKVvG9qmsXgz0mh7YIeYoYibRtDpkflzlyCcBqAOm/sJMXVaIxJs6TWxuBLnglQ2mkA7sK2ORX4U+pYymzPXJH12EFfXCZDkhcFFFsAAAAASUVORK5CYII="},30:function(e,t,a){e.exports=a.p+"static/media/arrow.2e60bb13.svg"},32:function(e,t,a){e.exports=a(55)},41:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),s=a(12),i=a(21),l=a(3),u=(a(41),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"title"},"MSI 2020"),r.a.createElement("div",{className:"welcome"},r.a.createElement("span",{className:"welcome__hey"},"Hey!"),r.a.createElement("span",{className:"welcome__lets-try"},"Let\u2019s try to find a joke for you:")))}),m=a(4),h=a(5),d=a(10),E=a(9),f=a(16),j=a.n(f),p=a(23),g=new(function(){function e(){Object(m.a)(this,e),this._url="https://api.chucknorris.io",this.errObj=function(e,t){return{message:"Invalid request: ".concat(e,", status ").concat(t),status:t}}}return Object(h.a)(e,[{key:"fetchData",value:function(){var e=Object(p.a)(j.a.mark((function e(t,a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._url).concat(t),a);case 2:if((n=e.sent).ok){e.next=5;break}throw this.errObj("".concat(this._url).concat(t),n.status);case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(p.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchData(t,{mode:"cors"}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),k=(new(function(){function e(){return Object(m.a)(this,e),e.instance?e.instance:(e.instance=this,this)}return Object(h.a)(e,[{key:"getItem",value:function(e){return JSON.parse(localStorage.getItem("".concat(e)))}},{key:"setItem",value:function(e,t){return localStorage.setItem("".concat(e),JSON.stringify(t))}}]),e}()),a(43),function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleSearch=function(t){var a=e.props.onSearchChange,n=t.target.value;e.setState({searchText:n}),a(n)},e.state={searchText:""},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("input",{type:"search",className:"form-search",onChange:this.handleSearch,placeholder:"Free text search...",value:this.state.searchText,minLength:"3",required:!0}))}}]),a}(r.a.Component)),C=(a(44),function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).selectCategory=function(t){e.setState({active:t.target.id}),e.props.changeCategory(t)},e.state={active:""},e}return Object(h.a)(a,[{key:"render",value:function(){var e=this.props.category;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:e,type:"radio",value:e,name:"category",onChange:this.selectCategory,required:!0}),r.a.createElement("label",{htmlFor:e},e))}}]),a}(r.a.Component)),v=(a(45),function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=e.props.onCategoryChange,n=t.target.value;e.setState({category:n}),a(n)},e.state={category:""},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.categoriesLoaded,a=e.categoriesRequested,n=e.categoriesError;a(),g.get("/jokes/categories").then((function(e){return t(e)})).catch((function(e){n(e)}))}},{key:"render",value:function(){var e=this,t=this.props.categories;return r.a.createElement("div",{className:"categories-list"},t.slice(0,4).map((function(t){return r.a.createElement("div",{key:t,className:"categories-list__category"},r.a.createElement(C,{category:t,changeCategory:e.handleChange}))})))}}]),a}(r.a.Component)),b={categoriesLoaded:function(e){return{type:"FETCH_CATEGORIES_SUCCESS",payload:e}},categoriesRequested:function(){return{type:"FETCH_CATEGORIES_REQUEST"}},categoriesError:function(e){return{type:"FETCH_CATEGORIES_FAILURE",payload:e}}},O=Object(s.b)((function(e){return{categories:e.categories.categories,loading:e.categories.loading,error:e.categories.error}}),b)(v),y=(a(46),function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).checkInput=function(t){e.setState({active:t.target.id})},e.onSearchChange=function(t){e.setState({searchText:t})},e.onCategoryChange=function(t){e.setState({category:t})},e.handleSubmit=function(t){t.preventDefault();var a=e.props,n=a.jokeLoaded,r=a.jokeRequested,c=a.jokeError,o=a.jokesLoaded,s=a.jokesRequested,i=a.jokesError,l=e.state,u=l.active,m=l.category,h=l.searchText;switch(u){case"random":r(),g.get("/jokes/random").then((function(e){return n(e)})).catch((function(e){c(e)}));break;case"category":r(),g.get("/jokes/random?category=".concat(m)).then((function(e){return n(e)})).catch((function(e){c(e)}));break;case"search":s(),g.get("/jokes/search?query=".concat(h)).then((function(e){return o(e)})).catch((function(e){i(e)}));break;default:r(),g.get("/jokes/random").then((function(e){return n(e)})).catch((function(e){c(e)}))}},e.state={category:"dev",searchText:"",active:"random"},e}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{className:"jokes-form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"jokes-form__component"},r.a.createElement("input",{className:"custom-checkbox",name:"jokeType",id:"random",type:"radio",value:"random",checked:"random"===this.state.active,onChange:this.checkInput}),r.a.createElement("label",{htmlFor:"random"},"Random")),r.a.createElement("div",{className:"jokes-form__component"},r.a.createElement("input",{className:"custom-checkbox",name:"jokeType",id:"category",type:"radio",value:"category",checked:"category"===this.state.active,onChange:this.checkInput}),r.a.createElement("label",{htmlFor:"category"},"From categories "),"category"===this.state.active?r.a.createElement(O,{onCategoryChange:this.onCategoryChange}):null),r.a.createElement("div",{className:"jokes-form__component"},r.a.createElement("input",{className:"custom-checkbox",name:"jokeType",id:"search",type:"radio",value:"search",checked:"search"===this.state.active,onChange:this.checkInput}),r.a.createElement("label",{htmlFor:"search"},"Search"),"search"===this.state.active?r.a.createElement(k,{onSearchChange:this.onSearchChange}):null),r.a.createElement("button",{type:"submit",className:"btn"},"Get a joke"))}}]),a}(r.a.Component)),S={jokeLoaded:function(e){return{type:"FETCH_JOKE_SUCCESS",payload:e}},jokeRequested:function(){return{type:"FETCH_JOKE_REQUEST"}},jokeError:function(e){return{type:"FETCH_JOKE_FAILURE",payload:e}},jokesLoaded:function(e){return{type:"FETCH_JOKES_SUCCESS",payload:e}},jokesRequested:function(){return{type:"FETCH_JOKES_REQUEST"}},jokesError:function(e){return{type:"FETCH_JOKES_FAILURE",payload:e}}},A=Object(s.b)((function(e){return{loading:e.jokes.loading,error:e.jokes.error}}),S)(y),_=(a(47),a(29)),T=a.n(_),w=function(e){var t,a=e.joke,n=a.url,c=a.id,o=a.value,s=a.updated_at,i=a.categories;return r.a.createElement("div",{className:"joke-item"},r.a.createElement("button",{className:"joke-item__btn"},r.a.createElement("svg",{width:"20",height:"17",viewBox:"0 0 20 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M10 17C9.71527 17 9.44077 16.9015 9.22684 16.7224C8.41888 16.0475 7.63992 15.4132 6.95267 14.8536L6.94916 14.8507C4.93423 13.2102 3.19427 11.7935 1.98364 10.3979C0.630341 8.83778 0 7.35852 0 5.74252C0 4.17244 0.563507 2.72395 1.58661 1.66367C2.62192 0.590857 4.04251 0 5.58716 0C6.74164 0 7.79892 0.348712 8.72955 1.03637C9.19922 1.38348 9.62494 1.80829 10 2.3038C10.3752 1.80829 10.8008 1.38348 11.2706 1.03637C12.2012 0.348712 13.2585 0 14.413 0C15.9575 0 17.3782 0.590857 18.4135 1.66367C19.4366 2.72395 20 4.17244 20 5.74252C20 7.35852 19.3698 8.83778 18.0165 10.3978C16.8059 11.7935 15.0661 13.2101 13.0515 14.8504C12.363 15.4108 11.5828 16.0461 10.773 16.7227C10.5592 16.9015 10.2846 17 10 17ZM5.58716 1.11932C4.37363 1.11932 3.25882 1.58203 2.44781 2.42232C1.62476 3.2753 1.17142 4.45439 1.17142 5.74252C1.17142 7.10165 1.70013 8.31719 2.88559 9.68375C4.03137 11.0047 5.73563 12.3923 7.70889 13.9989L7.71255 14.0018C8.4024 14.5635 9.18442 15.2003 9.99832 15.8802C10.8171 15.199 11.6003 14.5612 12.2916 13.9986C14.2647 12.392 15.9688 11.0047 17.1146 9.68375C18.2999 8.31719 18.8286 7.10165 18.8286 5.74252C18.8286 4.45439 18.3752 3.2753 17.5522 2.42232C16.7413 1.58203 15.6264 1.11932 14.413 1.11932C13.524 1.11932 12.7078 1.38931 11.9872 1.92171C11.3449 2.39637 10.8975 2.99642 10.6352 3.41627C10.5003 3.63217 10.2629 3.76105 10 3.76105C9.73709 3.76105 9.49966 3.63217 9.36478 3.41627C9.10263 2.99642 8.65524 2.39637 8.01285 1.92171C7.29218 1.38931 6.47598 1.11932 5.58716 1.11932Z",fill:"#FF6767"}))),r.a.createElement("div",{className:"joke-item__body"},r.a.createElement("p",{className:"joke-item__link"},"ID:"," ",r.a.createElement("a",{className:"joke-item__link",href:n},c),r.a.createElement("img",{src:T.a,alt:"link"})),r.a.createElement("p",{className:"joke-item__content"},o)),r.a.createElement("div",{className:"joke-item__footer"},r.a.createElement("div",{className:"joke-item__last-update"},"Last update:"," ",r.a.createElement("span",null,(t=s,Math.floor((Date.now()-Date.parse(t))/36e5))," hours ago")),i.length?r.a.createElement("div",{className:"joke-item__category"},i[0]):null))},F=(a(48),function(){return r.a.createElement("div",{className:"loader"}," ")}),N=(a(49),Object(s.b)((function(e){return{jokes:e.jokes.jokes,loading:e.jokes.loading,error:e.jokes.error}}),{})((function(e){var t=e.jokes,a=e.loading;e.error;return a?r.a.createElement(F,null):t?r.a.createElement("div",{className:"joke-list"},t.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(w,{joke:e}))}))):void 0}))),I=(a(50),a(30)),R=a.n(I),x=function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).trackScroll=function(){var t=window.pageYOffset,a=document.documentElement.clientHeight;t>a&&e.setState({isScrolled:!0}),t<a&&e.setState({isScrolled:!1})},e.backToTop=function(){window.pageYOffset>0&&(window.scrollBy(0,-100),setTimeout(e.backToTop,0))},e.state={isScrolled:!1},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.trackScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.trackScroll)}},{key:"render",value:function(){var e=this.state.isScrolled?"show":"";return r.a.createElement("div",{className:"back-top ".concat(e),onClick:this.backToTop},r.a.createElement("img",{src:R.a,alt:"arrow"}))}}]),a}(r.a.Component),U=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-container"},r.a.createElement(u,null),r.a.createElement(A,null),r.a.createElement(N,null),r.a.createElement(x,null)),r.a.createElement("div",{className:"favourite-container"}))},H=(a(51),function(){return r.a.createElement("div",{className:"not-found"},"Not Found")}),J=function(){return r.a.createElement(H,null)},L=(a(52),function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(l.d,null,r.a.createElement(l.a,{from:"/",to:"/jokes",exact:!0}),r.a.createElement(l.b,{path:"/jokes",component:U}),r.a.createElement(l.b,{component:J})))}),K=(a(54),function(e){var t=e.status;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"error-indicator"},"Ops... Something went wrong",t&&r.a.createElement("p",null,"Try reload the page")))}),q=function(e){Object(d.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).state={hasError:!1},e}return Object(h.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(K,null):this.props.children}}]),a}(r.a.Component),D=a(13),B=a(31),Q=a(2),Y=a(17),M={jokes:[],joke:{},searchText:"",loading:!1,error:null},G=function(e,t,a){return-1===a?[].concat(Object(Y.a)(e),[t]):[].concat(Object(Y.a)(e.slice(0,a)),[t],Object(Y.a)(e.slice(a+1)))},X={categories:[],loading:!0,error:null},V=Object(D.combineReducers)({jokes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_JOKE_REQUEST":return Object(Q.a)(Object(Q.a)({},e),{},{joke:{},loading:!0,error:null});case"FETCH_JOKE_SUCCESS":var r=e.jokes.findIndex((function(e){return e.id===n.id}));return Object(Q.a)(Object(Q.a)({},e),{},{jokes:G(e.jokes,n,r),joke:n,loading:!1,error:null});case"FETCH_JOKE_FAILURE":return Object(Q.a)(Object(Q.a)({},e),{},{jokes:[],joke:{},loading:!1,error:n});case"FETCH_JOKES_REQUEST":return Object(Q.a)(Object(Q.a)({},e),{},{joke:{},loading:!0,error:null});case"FETCH_JOKES_SUCCESS":var c=[];n.result.map((function(t){var a=e.jokes.findIndex((function(e){return e.id===t.id}));return c.push(a),null}));for(var o=e.jokes,s=0;s<c.length;s++)o=G(o,n.result[s],c[s]);return Object(Q.a)(Object(Q.a)({},e),{},{jokes:Object(Y.a)(o),loading:!1,error:null});case"FETCH_JOKES_FAILURE":return Object(Q.a)(Object(Q.a)({},e),{},{jokes:[],loading:!1,error:n});case"SEARCH_JOKES":return Object(Q.a)(Object(Q.a)({},e),{},{searchText:n.searchText});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_CATEGORIES_REQUEST":return Object(Q.a)(Object(Q.a)({},e),{},{categories:[],loading:!0,error:null});case"FETCH_CATEGORIES_SUCCESS":return Object(Q.a)(Object(Q.a)({},e),{},{categories:n,loading:!1,error:null});case"FETCH_CATEGORIES_FAILURE":return Object(Q.a)(Object(Q.a)({},e),{},{categories:[],loading:!1,error:n});default:return e}}}),z=Object(D.createStore)(V,Object(B.composeWithDevTools)());o.a.render(r.a.createElement(s.a,{store:z},r.a.createElement(q,null,r.a.createElement(i.a,null,r.a.createElement(L,null)))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.b24a5e8d.chunk.js.map