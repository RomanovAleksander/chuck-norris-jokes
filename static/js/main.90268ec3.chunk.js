(this["webpackJsonpchuck-norris-jokes"]=this["webpackJsonpchuck-norris-jokes"]||[]).push([[0],{30:function(e,t,a){e.exports=a(50)},39:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),i=a(12),u=a(21),s=a(3),l=(a(39),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"title"},"MSI 2020"),r.a.createElement("div",{className:"welcome"},r.a.createElement("span",{className:"welcome__hey"},"Hey!"),r.a.createElement("span",{className:"welcome__lets-try"},"Let\u2019s try to find a joke for you:")))}),h=a(4),d=a(5),E=a(11),m=a(10),j=a(17),g=a.n(j),f=a(23),p=new(function(){function e(){Object(h.a)(this,e),this._url="https://api.chucknorris.io",this.errObj=function(e,t){return{message:"Invalid request: ".concat(e,", status ").concat(t),status:t}}}return Object(d.a)(e,[{key:"fetchData",value:function(){var e=Object(f.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._url).concat(t),a);case 2:if((n=e.sent).ok){e.next=5;break}throw this.errObj("".concat(this._url).concat(t),n.status);case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(f.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchData(t,{mode:"cors"}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),b=(new(function(){function e(){return Object(h.a)(this,e),e.instance?e.instance:(e.instance=this,this)}return Object(d.a)(e,[{key:"getItem",value:function(e){return JSON.parse(localStorage.getItem("".concat(e)))}},{key:"setItem",value:function(e,t){return localStorage.setItem("".concat(e),JSON.stringify(t))}}]),e}()),a(41),function(e){Object(E.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).handleSearch=function(t){var a=e.props.onSearchChange,n=t.target.value;e.setState({searchText:n}),a(n)},e.state={searchText:""},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("input",{type:"search",onChange:this.handleSearch,placeholder:"search",value:this.state.searchText,minLength:"3"}))}}]),a}(r.a.Component)),v=(a(42),function(e){Object(E.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).selectCategory=function(t){e.setState({active:t.target.id}),e.props.changeCategory(t)},e.state={active:"animal"},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.category;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{id:e,type:"radio",value:e,name:"category",onChange:this.selectCategory}),r.a.createElement("label",{htmlFor:e},e))}}]),a}(r.a.Component)),O=(a(43),function(e){Object(E.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=e.props.onCategoryChange,n=t.target.value;e.setState({category:n}),a(n)},e.state={category:""},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.categoriesLoaded,a=e.categoriesRequested,n=e.categoriesError;a(),p.get("/jokes/categories").then((function(e){return t(e)})).catch((function(e){n(e)}))}},{key:"render",value:function(){var e=this,t=this.props.categories;return r.a.createElement("div",{className:"categories-list"},t.map((function(t){return r.a.createElement("div",{key:t},r.a.createElement(v,{category:t,changeCategory:e.handleChange}))})))}}]),a}(r.a.Component)),k={categoriesLoaded:function(e){return{type:"FETCH_CATEGORIES_SUCCESS",payload:e}},categoriesRequested:function(){return{type:"FETCH_CATEGORIES_REQUEST"}},categoriesError:function(e){return{type:"FETCH_CATEGORIES_FAILURE",payload:e}}},y=Object(i.b)((function(e){return{categories:e.categories.categories,loading:e.categories.loading,error:e.categories.error}}),k)(O),C=(a(44),function(e){Object(E.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).checkInput=function(t){e.setState({active:t.target.id})},e.onSearchChange=function(t){e.setState({searchText:t})},e.onCategoryChange=function(t){e.setState({category:t})},e.handleSubmit=function(t){t.preventDefault();var a=e.props,n=a.jokeLoaded,r=a.jokeRequested,c=a.jokeError,o=a.jokesLoaded,i=a.jokesRequested,u=a.jokesError,s=e.state,l=s.active,h=s.category,d=s.searchText;switch(l){case"random":r(),p.get("/jokes/random").then((function(e){return n(e)})).catch((function(e){c(e)}));break;case"category":r(),p.get("/jokes/random?category=".concat(h)).then((function(e){return n(e)})).catch((function(e){c(e)}));break;case"search":i(),p.get("/jokes/search?query=".concat(d)).then((function(e){return o(e)})).catch((function(e){u(e)}));break;default:r(),p.get("/jokes/random").then((function(e){return n(e)})).catch((function(e){c(e)}))}},e.state={category:"dev",searchText:"",active:"random"},e}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("input",{name:"jokeType",id:"random",type:"radio",value:"random",checked:"random"===this.state.active,onChange:this.checkInput}),r.a.createElement("label",{htmlFor:"random"},"Random")),r.a.createElement("div",null,r.a.createElement("input",{name:"jokeType",id:"category",type:"radio",value:"category",checked:"category"===this.state.active,onChange:this.checkInput}),r.a.createElement("label",{htmlFor:"category"},"From categories "),"category"===this.state.active?r.a.createElement(y,{onCategoryChange:this.onCategoryChange}):null),r.a.createElement("div",null,r.a.createElement("input",{name:"jokeType",id:"search",type:"radio",value:"search",checked:"search"===this.state.active,onChange:this.checkInput}),r.a.createElement("label",{htmlFor:"search"},"Search"),"search"===this.state.active?r.a.createElement(b,{onSearchChange:this.onSearchChange}):null),r.a.createElement("button",{type:"submit"},"Get a joke"))}}]),a}(r.a.Component)),S={jokeLoaded:function(e){return{type:"FETCH_JOKE_SUCCESS",payload:e}},jokeRequested:function(){return{type:"FETCH_JOKE_REQUEST"}},jokeError:function(e){return{type:"FETCH_JOKE_FAILURE",payload:e}},jokesLoaded:function(e){return{type:"FETCH_JOKES_SUCCESS",payload:e}},jokesRequested:function(){return{type:"FETCH_JOKES_REQUEST"}},jokesError:function(e){return{type:"FETCH_JOKES_FAILURE",payload:e}}},T=Object(i.b)((function(e){return{loading:e.jokes.loading,error:e.jokes.error}}),S)(C),_=(a(45),Object(i.b)((function(e){return{jokes:e.jokes.jokes,loading:e.jokes.loading,error:e.jokes.error}}),{})((function(e){var t=e.jokes,a=e.loading;e.error;return a?r.a.createElement("div",null,"Loading..."):t?r.a.createElement("div",{className:"joke-list"},t.map((function(e){return r.a.createElement("div",{key:e.id},e.value)}))):void 0}))),F=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-container"},r.a.createElement(l,null),r.a.createElement(T,null),r.a.createElement(_,null)),r.a.createElement("div",{className:"favourite-container"}))},R=(a(46),function(){return r.a.createElement("div",{className:"not-found"},"Not Found")}),I=function(){return r.a.createElement(R,null)},H=(a(47),function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(s.d,null,r.a.createElement(s.a,{from:"/",to:"/jokes",exact:!0}),r.a.createElement(s.b,{path:"/jokes",component:F}),r.a.createElement(s.b,{component:I})))}),w=(a(49),function(e){var t=e.status;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"error-indicator"},"Ops... Something went wrong",t&&r.a.createElement("p",null,"Try reload the page")))}),U=function(e){Object(E.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(h.a)(this,a),(e=t.call(this)).state={hasError:!1},e}return Object(d.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(w,null):this.props.children}}]),a}(r.a.Component),J=a(13),x=a(29),L=a(2),N=a(15),A={jokes:[],joke:{},searchText:"",loading:!1,error:null},K=function(e,t,a){return-1===a?[].concat(Object(N.a)(e),[t]):[].concat(Object(N.a)(e.slice(0,a)),[t],Object(N.a)(e.slice(a+1)))},q={categories:[],loading:!0,error:null},G=Object(J.combineReducers)({jokes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_JOKE_REQUEST":return Object(L.a)(Object(L.a)({},e),{},{joke:{},loading:!0,error:null});case"FETCH_JOKE_SUCCESS":var r=e.jokes,c=r.findIndex((function(e){return e.id===n.id}));return Object(L.a)(Object(L.a)({},e),{},{jokes:K(r,n,c),joke:n,loading:!1,error:null});case"FETCH_JOKE_FAILURE":return Object(L.a)(Object(L.a)({},e),{},{jokes:[],joke:{},loading:!1,error:n});case"FETCH_JOKES_REQUEST":return Object(L.a)(Object(L.a)({},e),{},{joke:{},loading:!0,error:null});case"FETCH_JOKES_SUCCESS":return Object(L.a)(Object(L.a)({},e),{},{jokes:[].concat(Object(N.a)(e.jokes),Object(N.a)(n.result)),loading:!1,error:null});case"FETCH_JOKES_FAILURE":return Object(L.a)(Object(L.a)({},e),{},{jokes:[],loading:!1,error:n});case"SEARCH_JOKES":return Object(L.a)(Object(L.a)({},e),{},{searchText:n.searchText});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"FETCH_CATEGORIES_REQUEST":return Object(L.a)(Object(L.a)({},e),{},{categories:[],loading:!0,error:null});case"FETCH_CATEGORIES_SUCCESS":return Object(L.a)(Object(L.a)({},e),{},{categories:n,loading:!1,error:null});case"FETCH_CATEGORIES_FAILURE":return Object(L.a)(Object(L.a)({},e),{},{categories:[],loading:!1,error:n});default:return e}}}),D=Object(J.createStore)(G,Object(x.composeWithDevTools)());o.a.render(r.a.createElement(i.a,{store:D},r.a.createElement(U,null,r.a.createElement(u.a,null,r.a.createElement(H,null)))),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.90268ec3.chunk.js.map