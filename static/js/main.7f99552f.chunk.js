(this["webpackJsonpchuck-norris-jokes"]=this["webpackJsonpchuck-norris-jokes"]||[]).push([[0],{29:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACuSURBVHgBjZC9DcIwEIXfxaaFjMAIWYERaBCpYAVSIFExAZhMQIUi0bACI7ABHoOCcNxJRnIsFzzJOvnu07sfQkaHC6+pwD58SzBAruNpCm5q8hrdlSvucVOYjh0Lj3sMfhitsfAKvQ3mVqKVvG9qmsXgz0mh7YIeYoYibRtDpkflzlyCcBqAOm/sJMXVaIxJs6TWxuBLnglQ2mkA7sK2ORX4U+pYymzPXJH12EFfXCZDkhcFFFsAAAAASUVORK5CYII="},30:function(e,t,a){e.exports=a.p+"static/media/arrow.2e60bb13.svg"},32:function(e,t,a){e.exports=a(56)},41:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(18),c=a.n(o),s=a(12),i=a(21),u=a(3),l=(a(41),function(){return n.a.createElement("header",{className:"header"},n.a.createElement("div",{className:"title"},"MSI 2020"),n.a.createElement("div",{className:"welcome"},n.a.createElement("span",{className:"welcome__hey"},"Hey!"),n.a.createElement("span",{className:"welcome__lets-try"},"Let\u2019s try to find a joke for you:")))}),m=a(4),d=a(5),f=a(10),h=a(9),k=a(17),E=a.n(k),v=a(23),j=new(function(){function e(){Object(m.a)(this,e),this._url="https://api.chucknorris.io",this.errObj=function(e,t){return{message:"Invalid request: ".concat(e,", status ").concat(t),status:t}}}return Object(d.a)(e,[{key:"fetchData",value:function(){var e=Object(v.a)(E.a.mark((function e(t,a){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this._url).concat(t),a);case 2:if((r=e.sent).ok){e.next=5;break}throw this.errObj("".concat(this._url).concat(t),r.status);case 5:return e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(v.a)(E.a.mark((function e(t){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fetchData(t,{mode:"cors"}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),g=new(function(){function e(){return Object(m.a)(this,e),e.instance?e.instance:(e.instance=this,this)}return Object(d.a)(e,[{key:"getItem",value:function(e){return JSON.parse(localStorage.getItem("".concat(e)))}},{key:"setItem",value:function(e,t){return localStorage.setItem("".concat(e),JSON.stringify(t))}}]),e}()),p=function(e){return{type:"ADD_JOKE",payload:e}},C=function(e){return{type:"REMOVE_JOKE",payload:e.id}},b=(a(43),function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleSearch=function(t){var a=e.props.onSearchChange,r=t.target.value;e.setState({searchText:r}),a(r)},e.state={searchText:""},e}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"search-wrapper"},n.a.createElement("input",{type:"search",className:"form-search",onChange:this.handleSearch,placeholder:"Free text search...",value:this.state.searchText,minLength:"3",required:!0}))}}]),a}(n.a.Component)),O=(a(44),function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).selectCategory=function(t){e.setState({active:t.target.id}),e.props.changeCategory(t)},e.state={active:""},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.category;return n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{id:e,type:"radio",value:e,name:"category",onChange:this.selectCategory,required:!0}),n.a.createElement("label",{htmlFor:e},e))}}]),a}(n.a.Component)),y=(a(45),function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).handleChange=function(t){var a=e.props.onCategoryChange,r=t.target.value;e.setState({category:r}),a(r)},e.state={category:""},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.categoriesLoaded,a=e.categoriesRequested,r=e.categoriesError;a(),j.get("/jokes/categories").then((function(e){return t(e)})).catch((function(e){r(e)}))}},{key:"render",value:function(){var e=this,t=this.props.categories;return n.a.createElement("div",{className:"categories-list"},t.slice(0,4).map((function(t){return n.a.createElement("div",{key:t,className:"categories-list__category"},n.a.createElement(O,{category:t,changeCategory:e.handleChange}))})))}}]),a}(n.a.Component)),S={categoriesLoaded:function(e){return{type:"FETCH_CATEGORIES_SUCCESS",payload:e}},categoriesRequested:function(){return{type:"FETCH_CATEGORIES_REQUEST"}},categoriesError:function(e){return{type:"FETCH_CATEGORIES_FAILURE",payload:e}}},_=Object(s.b)((function(e){return{categories:e.categories.categories,loading:e.categories.loading,error:e.categories.error}}),S)(y),A=(a(46),function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).checkInput=function(t){e.setState({active:t.target.id})},e.onSearchChange=function(t){e.setState({searchText:t})},e.onCategoryChange=function(t){e.setState({category:t})},e.handleSubmit=function(t){t.preventDefault();var a=e.props,r=a.jokeLoaded,n=a.jokeRequested,o=a.jokeError,c=a.jokesLoaded,s=a.jokesRequested,i=a.jokesError,u=e.state,l=u.active,m=u.category,d=u.searchText;switch(l){case"random":n(),j.get("/jokes/random").then((function(e){return r(e)})).catch((function(e){o(e)}));break;case"category":n(),j.get("/jokes/random?category=".concat(m)).then((function(e){return r(e)})).catch((function(e){o(e)}));break;case"search":s(),j.get("/jokes/search?query=".concat(d)).then((function(e){return c(e)})).catch((function(e){i(e)}));break;default:n(),j.get("/jokes/random").then((function(e){return r(e)})).catch((function(e){o(e)}))}},e.state={category:"dev",searchText:"",active:"random"},e}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("form",{className:"jokes-form",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"jokes-form__component"},n.a.createElement("input",{className:"custom-checkbox",name:"jokeType",id:"random",type:"radio",value:"random",checked:"random"===this.state.active,onChange:this.checkInput}),n.a.createElement("label",{htmlFor:"random"},"Random")),n.a.createElement("div",{className:"jokes-form__component"},n.a.createElement("input",{className:"custom-checkbox",name:"jokeType",id:"category",type:"radio",value:"category",checked:"category"===this.state.active,onChange:this.checkInput}),n.a.createElement("label",{htmlFor:"category"},"From categories "),"category"===this.state.active?n.a.createElement(_,{onCategoryChange:this.onCategoryChange}):null),n.a.createElement("div",{className:"jokes-form__component"},n.a.createElement("input",{className:"custom-checkbox",name:"jokeType",id:"search",type:"radio",value:"search",checked:"search"===this.state.active,onChange:this.checkInput}),n.a.createElement("label",{htmlFor:"search"},"Search"),"search"===this.state.active?n.a.createElement(b,{onSearchChange:this.onSearchChange}):null),n.a.createElement("button",{type:"submit",className:"btn"},"Get a joke"))}}]),a}(n.a.Component)),J={jokeLoaded:function(e){return{type:"FETCH_JOKE_SUCCESS",payload:e}},jokeRequested:function(){return{type:"FETCH_JOKE_REQUEST"}},jokeError:function(e){return{type:"FETCH_JOKE_FAILURE",payload:e}},jokesLoaded:function(e){return{type:"FETCH_JOKES_SUCCESS",payload:e}},jokesRequested:function(){return{type:"FETCH_JOKES_REQUEST"}},jokesError:function(e){return{type:"FETCH_JOKES_FAILURE",payload:e}}},w=Object(s.b)((function(e){return{}}),J)(A),T=(a(47),a(29)),F=a.n(T),N=function(e){var t,a=e.joke,r=e.isFavourite,o=e.addJoke,c=e.removeJoke,s=e.favourites,i=a.url,u=a.id,l=a.value,m=a.updated_at,d=a.categories,f=!0===s?"joke-item white":"joke-item dark";return n.a.createElement("div",{className:f},n.a.createElement("button",{className:"joke-item__btn",onClick:void 0===r?o:c},r?n.a.createElement("svg",{width:"20",height:"17",viewBox:"0 0 20 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M18.4134 1.66367C17.3781 0.590857 15.9575 0 14.413 0C13.2585 0 12.2012 0.348712 11.2704 1.03637C10.8008 1.38348 10.3752 1.80814 10 2.3038C9.62494 1.80829 9.19922 1.38348 8.7294 1.03637C7.79877 0.348712 6.74149 0 5.58701 0C4.04251 0 2.62177 0.590857 1.58646 1.66367C0.563507 2.72395 0 4.17244 0 5.74252C0 7.35852 0.630341 8.83778 1.98364 10.3979C3.19427 11.7935 4.93423 13.2102 6.94916 14.8507C7.63718 15.411 8.41705 16.046 9.22684 16.7224C9.44077 16.9015 9.71527 17 10 17C10.2846 17 10.5592 16.9015 10.7729 16.7227C11.5826 16.0461 12.363 15.4108 13.0513 14.8503C15.0659 13.2101 16.8059 11.7935 18.0165 10.3978C19.3698 8.83778 20 7.35852 20 5.74238C20 4.17244 19.4365 2.72395 18.4134 1.66367Z",fill:"#FF6767"})):n.a.createElement("svg",{width:"20",height:"17",viewBox:"0 0 20 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("path",{d:"M10 17C9.71527 17 9.44077 16.9015 9.22684 16.7224C8.41888 16.0475 7.63992 15.4132 6.95267 14.8536L6.94916 14.8507C4.93423 13.2102 3.19427 11.7935 1.98364 10.3979C0.630341 8.83778 0 7.35852 0 5.74252C0 4.17244 0.563507 2.72395 1.58661 1.66367C2.62192 0.590857 4.04251 0 5.58716 0C6.74164 0 7.79892 0.348712 8.72955 1.03637C9.19922 1.38348 9.62494 1.80829 10 2.3038C10.3752 1.80829 10.8008 1.38348 11.2706 1.03637C12.2012 0.348712 13.2585 0 14.413 0C15.9575 0 17.3782 0.590857 18.4135 1.66367C19.4366 2.72395 20 4.17244 20 5.74252C20 7.35852 19.3698 8.83778 18.0165 10.3978C16.8059 11.7935 15.0661 13.2101 13.0515 14.8504C12.363 15.4108 11.5828 16.0461 10.773 16.7227C10.5592 16.9015 10.2846 17 10 17ZM5.58716 1.11932C4.37363 1.11932 3.25882 1.58203 2.44781 2.42232C1.62476 3.2753 1.17142 4.45439 1.17142 5.74252C1.17142 7.10165 1.70013 8.31719 2.88559 9.68375C4.03137 11.0047 5.73563 12.3923 7.70889 13.9989L7.71255 14.0018C8.4024 14.5635 9.18442 15.2003 9.99832 15.8802C10.8171 15.199 11.6003 14.5612 12.2916 13.9986C14.2647 12.392 15.9688 11.0047 17.1146 9.68375C18.2999 8.31719 18.8286 7.10165 18.8286 5.74252C18.8286 4.45439 18.3752 3.2753 17.5522 2.42232C16.7413 1.58203 15.6264 1.11932 14.413 1.11932C13.524 1.11932 12.7078 1.38931 11.9872 1.92171C11.3449 2.39637 10.8975 2.99642 10.6352 3.41627C10.5003 3.63217 10.2629 3.76105 10 3.76105C9.73709 3.76105 9.49966 3.63217 9.36478 3.41627C9.10263 2.99642 8.65524 2.39637 8.01285 1.92171C7.29218 1.38931 6.47598 1.11932 5.58716 1.11932Z",fill:"#FF6767"}))),n.a.createElement("div",{className:"joke-item__body"},n.a.createElement("p",{className:"joke-item__link"},"ID:"," ",n.a.createElement("a",{className:"joke-item__link",target:"_blank",rel:"noopener noreferrer",href:i},u),n.a.createElement("img",{src:F.a,alt:"link"})),n.a.createElement("p",{className:"joke-item__content"},l)),n.a.createElement("div",{className:"joke-item__footer"},n.a.createElement("div",{className:"joke-item__last-update"},"Last update:"," ",n.a.createElement("span",null,(t=m,Math.floor((Date.now()-Date.parse(t))/36e5))," hours ago")),d.length?n.a.createElement("div",{className:"joke-item__category"},d[0]):null))},I=(a(48),function(){return n.a.createElement("div",{className:"loader"}," ")}),R=(a(49),function(e){var t=e.status;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"error-indicator"},"Ops... Something went wrong",t&&n.a.createElement("p",null,"Reload the page")))}),x=(a(50),function(e){var t=e.jokes,a=e.favouritesJokes,r=e.loading,o=e.error,c=e.addJoke,s=e.removeJoke,i=e.favourites,u=i?a:t,l=!0===i?"joke-list fav":"joke-list";return r&&!i?n.a.createElement(I,null):o?n.a.createElement("div",{className:"joke-list"},n.a.createElement(R,null)):n.a.createElement("div",{className:l},u.map((function(e){return n.a.createElement("div",{key:e.id},n.a.createElement(N,{joke:e,isFavourite:a.find((function(t){return e.id===t.id})),addJoke:function(){return c(e)},removeJoke:function(){return s(e)},favourites:i}))})))}),U={addJoke:p,removeJoke:C},H=Object(s.b)((function(e){return{jokes:e.jokes.jokes,favouritesJokes:e.jokes.favouritesJokes,loading:e.jokes.loading,error:e.jokes.error}}),U)((function(e){var t=e.jokes,a=e.favouritesJokes,r=e.loading,o=e.error,c=e.addJoke,s=e.removeJoke;return n.a.createElement(x,{jokes:t,favouritesJokes:a,loading:r,error:o,addJoke:c,removeJoke:s,favourites:!1})})),K=(a(51),a(30)),L=a.n(K),D=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).trackScroll=function(){var t=window.pageYOffset,a=document.documentElement.clientHeight;t>a&&e.setState({isScrolled:!0}),t<a&&e.setState({isScrolled:!1})},e.backToTop=function(){window.pageYOffset>0&&(window.scrollBy(0,-100),setTimeout(e.backToTop,0))},e.state={isScrolled:!1},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.trackScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.trackScroll)}},{key:"render",value:function(){var e=this.state.isScrolled?"show":"";return n.a.createElement("div",{className:"back-top ".concat(e),onClick:this.backToTop},n.a.createElement("img",{src:L.a,alt:"arrow"}))}}]),a}(n.a.Component),M=(a(52),{addJoke:p,removeJoke:C}),q=Object(s.b)((function(e){return{jokes:e.jokes.jokes,favouritesJokes:e.jokes.favouritesJokes,loading:e.jokes.loading,error:e.jokes.error}}),M)((function(e){var t=e.jokes,a=e.favouritesJokes,r=e.loading,o=e.error,c=e.addJoke,s=e.removeJoke;return n.a.createElement("div",{className:"favourites-container"},n.a.createElement("div",{className:"favourites-title"},"Favorite"),n.a.createElement(x,{jokes:t,favouritesJokes:a,loading:r,error:o,addJoke:c,removeJoke:s,favourites:!0}))})),B=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"main-container"},n.a.createElement(l,null),n.a.createElement(w,null),n.a.createElement(H,null),n.a.createElement(D,null)),n.a.createElement(q,null))},Q=(a(53),function(){return n.a.createElement("div",{className:"not-found"},"Not Found")}),Y=function(){return n.a.createElement(Q,null)},V=(a(54),function(){return n.a.createElement("div",{className:"wrapper"},n.a.createElement(u.d,null,n.a.createElement(u.a,{from:"/",to:"/jokes",exact:!0}),n.a.createElement(u.b,{path:"/jokes",component:B}),n.a.createElement(u.b,{component:Y})))}),G=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(m.a)(this,a),(e=t.call(this)).state={hasError:!1},e}return Object(d.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?n.a.createElement(R,null):this.props.children}}]),a}(n.a.Component),X=a(13),z=a(31),Z=a(2),W=a(15),P={jokes:[],favouritesJokes:[],joke:{},searchText:"",loading:!1,error:null},$=function(e,t,a){return-1===a?[].concat(Object(W.a)(e),[t]):[].concat(Object(W.a)(e.slice(0,a)),[t],Object(W.a)(e.slice(a+1)))},ee={categories:[],loading:!0,error:null},te=Object(X.combineReducers)({jokes:function(e,t){var a=t.type,r=t.payload;if(void 0===e)return localStorage.favouritesJokes?Object(Z.a)(Object(Z.a)({},P),{},{favouritesJokes:g.getItem("favouritesJokes")}):P;switch(a){case"FETCH_JOKE_REQUEST":return Object(Z.a)(Object(Z.a)({},e),{},{joke:{},loading:!0,error:null});case"FETCH_JOKE_SUCCESS":var n=e.jokes.findIndex((function(e){return e.id===r.id}));return Object(Z.a)(Object(Z.a)({},e),{},{jokes:$(e.jokes,r,n),joke:r,loading:!1,error:null});case"FETCH_JOKE_FAILURE":return Object(Z.a)(Object(Z.a)({},e),{},{jokes:[],joke:{},loading:!1,error:r});case"FETCH_JOKES_REQUEST":return Object(Z.a)(Object(Z.a)({},e),{},{joke:{},loading:!0,error:null});case"FETCH_JOKES_SUCCESS":var o=[];r.result.map((function(t){var a=e.jokes.findIndex((function(e){return e.id===t.id}));return o.push(a),null}));for(var c=e.jokes,s=0;s<o.length;s++)c=$(c,r.result[s],o[s]);return Object(Z.a)(Object(Z.a)({},e),{},{jokes:Object(W.a)(c),loading:!1,error:null});case"FETCH_JOKES_FAILURE":return Object(Z.a)(Object(Z.a)({},e),{},{jokes:[],loading:!1,error:r});case"ADD_JOKE":var i=[].concat(Object(W.a)(e.favouritesJokes),[r]);return g.setItem("favouritesJokes",i),Object(Z.a)(Object(Z.a)({},e),{},{favouritesJokes:i});case"REMOVE_JOKE":var u=e.favouritesJokes.filter((function(e){return e.id!==r}));return g.setItem("favouritesJokes",u),Object(Z.a)(Object(Z.a)({},e),{},{favouritesJokes:u});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"FETCH_CATEGORIES_REQUEST":return Object(Z.a)(Object(Z.a)({},e),{},{categories:[],loading:!0,error:null});case"FETCH_CATEGORIES_SUCCESS":return Object(Z.a)(Object(Z.a)({},e),{},{categories:r,loading:!1,error:null});case"FETCH_CATEGORIES_FAILURE":return Object(Z.a)(Object(Z.a)({},e),{},{categories:[],loading:!1,error:r});default:return e}}}),ae=Object(X.createStore)(te,Object(z.composeWithDevTools)());c.a.render(n.a.createElement(s.a,{store:ae},n.a.createElement(G,null,n.a.createElement(i.a,null,n.a.createElement(V,null)))),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.7f99552f.chunk.js.map